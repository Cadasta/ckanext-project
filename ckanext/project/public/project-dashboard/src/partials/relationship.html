<div id="parcelDetails">
    <div class="details-container">
        <!-- Overview Start-->
        <div class="overview">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-6">
                        <div class="back-link">
                            <a ng-click="clearRelationshipBreadCrumb()" ui-sref="^.relationshiplist"><i class="material-icons back_space">keyboard_backspace</i> Back to relationship list</a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class='cadasta-update-button float-right' ng-click="updateRelationshipModal()" ng-show="showCRUDLink"> Update Relationship Details </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-6">
                        <div class="section">
                            <div class="container">
                                <div class="title">Relationship ID {{relationship.properties.id}}</div>
                                <br>
                                <div class="caption">Name</div>
                                <div>
                                    <a ui-sref="tabs.parties.party({id: relationship.properties.party_id})">
                                        <span ng-show="relationship.properties.full_name">{{relationship.properties.full_name}}</span>
                                        <span ng-show="relationship.properties.group_name">{{relationship.properties.group_name}}</span>
                                    </a>
                                </div>
                                <div class="caption">Tenure Type</div>
                                <div>{{relationship.properties.tenure_type | capitalize}} </div>
                                <div class="caption">How Acquired</div>
                                <div>{{relationship.properties.how_acquired | emptyString }} </div>
                                <div class="caption">Date Acquired</div>
                                <div>{{relationship.properties.acquired_dateDMY | emptyString}}</div>
                                <div class="caption">Parcel ID</div>
                                <div>
                                    <a ui-sref="tabs.parcels.parcel({id: relationship.properties.parcel_id})">{{relationship.properties.parcel_id}}</a></div>
                                <div class="caption">Status</div>
                                <div>{{relationship.properties.active}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="section-map">
                            <div id="relationshipDetailsMap"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Relationship history-->
<div class="history-container">
    <div class="parcel-history">
        <div class="small-table-container">
            <div class="small-heading">
                Relationship History
            </div>

            <table class="parcel-history">
                <thead>
                    <tr>
                        <th>Version</th>
                        <th>Date updated</th>
                        <th>Tenure Type</th>
                        <th>Area (meters)</th>
                        <th>Length (meters)</th>
                        <th>Description</th>

                    </tr>
                </thead>
            </table>
            <div class="parcel-history-data relationship">
                <table>
                    <tbody>
                        <tr ng-repeat="rh in relationship_history">
                            <td>{{rh.properties.version}}</td>
                            <td>{{rh.properties.time_updated | emptyString}}</td>
                            <td>{{rh.properties.relationship_type | capitalize}}</td>
                            <td>{{rh.properties.area | number:2 | emptyString}}</td>
                            <td>{{rh.properties.length | number:2 | emptyString}}</td>
                            <td>{{rh.properties.description | emptyString}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    </d iv>

    <!-- Relationship resources-->
    <div class="history-container">
        <div class="parcel-history">
            <div class="small-table-container">
                <div class="small-heading">
                    Relationship Resources
                </div>
                <md-button class='cadasta-round-button right' ng-click="showAddResourceModal($event)" ng-show="showResourceLink"> <span class="button-text">Add Resource</span> </md-button>
                <table class="parcel-history">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Date</th>
                            <th>View</th>
                        </tr>
                    </thead>
                </table>
                <div class="parcel-history-data relationship">
                    <table>
                        <tbody>
                            <tr ng-repeat="r in resources">
                                <td>{{r.properties.file_name}}</td>
                                <td>{{r.properties.description}}</td>
                                <td>{{r.properties.time_created}}</td>
                                <td><a href="{{r.properties.url}}">Download</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
